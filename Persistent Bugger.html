<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Persistent Bugger.</title>
    <script>
      function persistence(n) {
        //code me
        var num = n + "";
        var j = 0;//计数器
        if(num.length==1)
          return 0;
        function sum (num) {
          num = eval(num.split("").join("*")).toString();
          console.log(num);
          j++;
          console.log(j);
          return num.length > 1 ? (sum(num)) : j;
        }
        console.log("j="+j)
        return sum(num);
      }
      console.log(persistence(999));
    </script>
    <script>
        //大佬的最佳实践
        function persistence(num) {
          var times = 0;

          num = num.toString();

          while (num.length > 1) {
            times++;
            num = num.split('').map(Number).reduce((a, b) => a * b).toString();
          }

          return times;
        }
    </script>
</head>
<body>

</body>
</html>